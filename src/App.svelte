<script lang="ts">
    import { gsap } from "gsap"
    import "splitting/dist/splitting.css"
    import "splitting/dist/splitting-cells.css"
    import Splitting from "splitting"
    import { spring } from "svelte/motion"
    import Fa from "svelte-fa"
    import {
        faTwitterSquare,
        faInstagramSquare,
        faGithubSquare,
        faLinkedin,
    } from "@fortawesome/free-brands-svg-icons"

    import Things from "./Things.svelte"

    let className = "",
        title = "Muhammed",
        haaal = "1",
        things
    const defaultValues = () => {
        className = ""
        title = "Muhammed"
        haaal = "1"
    }

    const pTo = (thing, axis, speed) => {
        gsap.quickTo(thing, axis, {
            duration: 0.5,
            ease: "ease",
        })(speed)
    }
    const jiggle = (e) => {
        console.log(things)
        things.forEach((thing) => {
            switch (thing.classList[1]) {
                case "speed1":
                    pTo(thing, "x", e.pageX * 0.05)
                    pTo(thing, "y", e.pageY * -0.05)
                    break
                case "speed2":
                    pTo(thing, "x", e.pageX * -0.025)
                    pTo(thing, "y", e.pageY * 0.025)
                    break
                case "speed3":
                    pTo(thing, "x", e.pageX * 0.009)
                    pTo(thing, "y", e.pageY * -0.009)
                    break
                case "thing2":
                    pTo(thing, "x", e.pageX * 0.015)
                    pTo(thing, "y", e.pageY * 0.015)
                default:
                    break
            }
        })
    }
    const loadingAnimation = () => {
        things = document.querySelectorAll(".thing")
        const Tl = gsap
            .timeline()
            .fromTo(
                ".thing",
                { opacity: 0, autoAlpha: 0 },
                { opacity: 1, autoAlpha: 1, duration: 2, ease: "ease" }
            )
            .fromTo(
                ".reveal",
                { y: "110%", autoAlpha: 0 },
                {
                    duration: 1.5,
                    y: "0%",
                    autoAlpha: 1,
                    ease: "circ",
                    overwrite: "auto",
                    stagger: 0.5,
                },
                "<"
            )
            .fromTo(
                ".fade",
                { autoAlpha: 0 },
                { autoAlpha: 1, duration: 1, ease: "ease" }
            )
            .fromTo(
                ".fading-text",
                { autoAlpha: 0 },
                { autoAlpha: 1, duration: 3, ease: "ease" }
            )
            .fromTo(
                ".socials",
                { opacity: 0, autoAlpha: 0 },
                { duration: 1, opacity: 1, autoAlpha: 1, ease: "ease" },
                "<"
            )
    }
</script>

<svelte:head>
    <link rel="icon" href="/src/static/favicon.png" />
    <title>Hey ðŸ‘‹</title>
    <meta name="description" content="Portfolio of Muhammed Aflah" />
    <script
        defer
        src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
</svelte:head>
<svelte:window on:load={loadingAnimation} on:mousemove={jiggle} />
<div class="overlay {className}" />
<header>
    <div class="header-container">
        <a href="/" class="logo">
            <svg
                width="104"
                height="32"
                viewBox="0 0 104 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <mask id="path-1-inside-1_31_118" fill="white">
                    <path d="M45 12H104V32H45V12Z" />
                </mask>
                <path
                    d="M45 12H104V32H45V12Z"
                    fill="#0A2646"
                    fill-opacity="0.1"
                />
                <path
                    d="M103 12V32H105V12H103Z"
                    fill="#0A2646"
                    mask="url(#path-1-inside-1_31_118)"
                />
                <path
                    d="M16.0665 22V10.816L11.6985 19.144H9.85053L5.48253 10.816V22H2.17053V4.96H5.72253L10.7625 14.656L15.8505 4.96H19.3785V22H16.0665ZM34.3122 22H31.0962V14.944C31.0962 13.968 30.9042 13.24 30.5202 12.76C30.1522 12.28 29.6402 12.04 28.9842 12.04C28.6002 12.04 28.1922 12.152 27.7602 12.376C27.3282 12.6 26.9362 12.912 26.5842 13.312C26.2482 13.696 26.0002 14.144 25.8402 14.656V22H22.6242V4.48H25.8402V11.752C26.3042 10.952 26.9362 10.328 27.7362 9.88C28.5362 9.432 29.4082 9.208 30.3522 9.208C31.1682 9.208 31.8322 9.352 32.3442 9.64C32.8562 9.912 33.2562 10.288 33.5442 10.768C33.8322 11.232 34.0322 11.76 34.1442 12.352C34.2562 12.928 34.3122 13.528 34.3122 14.152V22ZM36.3405 15.712C36.3405 14.496 36.5805 13.4 37.0605 12.424C37.5405 11.432 38.2045 10.648 39.0525 10.072C39.9005 9.496 40.8685 9.208 41.9565 9.208C42.8845 9.208 43.7165 9.44 44.4525 9.904C45.2045 10.352 45.7885 10.928 46.2045 11.632V4.48H49.4205V18.4C49.4205 18.736 49.4765 18.976 49.5885 19.12C49.7005 19.264 49.8925 19.352 50.1645 19.384V22C49.6045 22.112 49.1485 22.168 48.7965 22.168C48.2205 22.168 47.7405 22.024 47.3565 21.736C46.9885 21.448 46.7805 21.072 46.7325 20.608L46.6845 19.816C46.2205 20.6 45.5885 21.2 44.7885 21.616C44.0045 22.032 43.1805 22.24 42.3165 22.24C41.4525 22.24 40.6525 22.072 39.9165 21.736C39.1965 21.4 38.5645 20.936 38.0205 20.344C37.4925 19.752 37.0765 19.064 36.7725 18.28C36.4845 17.48 36.3405 16.624 36.3405 15.712ZM46.2045 17.392V14.392C46.0445 13.928 45.7885 13.512 45.4365 13.144C45.0845 12.776 44.6925 12.488 44.2605 12.28C43.8285 12.056 43.3965 11.944 42.9645 11.944C42.4685 11.944 42.0205 12.048 41.6205 12.256C41.2205 12.464 40.8685 12.744 40.5645 13.096C40.2765 13.448 40.0525 13.856 39.8925 14.32C39.7485 14.784 39.6765 15.272 39.6765 15.784C39.6765 16.296 39.7565 16.784 39.9165 17.248C40.0925 17.696 40.3405 18.088 40.6605 18.424C40.9805 18.76 41.3485 19.024 41.7645 19.216C42.1965 19.408 42.6605 19.504 43.1565 19.504C43.4605 19.504 43.7645 19.456 44.0685 19.36C44.3885 19.248 44.6845 19.104 44.9565 18.928C45.2445 18.736 45.4925 18.512 45.7005 18.256C45.9245 17.984 46.0925 17.696 46.2045 17.392ZM51.7133 18.28C51.7133 17.464 51.9373 16.752 52.3853 16.144C52.8493 15.52 53.4893 15.04 54.3053 14.704C55.1213 14.368 56.0573 14.2 57.1133 14.2C57.6413 14.2 58.1773 14.24 58.7213 14.32C59.2653 14.4 59.7373 14.528 60.1373 14.704V14.032C60.1373 13.232 59.8973 12.616 59.4173 12.184C58.9533 11.752 58.2573 11.536 57.3293 11.536C56.6413 11.536 55.9853 11.656 55.3613 11.896C54.7373 12.136 54.0813 12.488 53.3933 12.952L52.3613 10.84C53.1933 10.296 54.0413 9.888 54.9053 9.616C55.7853 9.344 56.7053 9.208 57.6653 9.208C59.4573 9.208 60.8493 9.656 61.8413 10.552C62.8493 11.448 63.3533 12.728 63.3533 14.392V18.4C63.3533 18.736 63.4093 18.976 63.5213 19.12C63.6493 19.264 63.8493 19.352 64.1213 19.384V22C63.8333 22.048 63.5693 22.088 63.3293 22.12C63.1053 22.152 62.9133 22.168 62.7533 22.168C62.1133 22.168 61.6253 22.024 61.2893 21.736C60.9693 21.448 60.7693 21.096 60.6893 20.68L60.6173 20.032C60.0733 20.736 59.3933 21.28 58.5773 21.664C57.7613 22.048 56.9293 22.24 56.0813 22.24C55.2493 22.24 54.4973 22.072 53.8253 21.736C53.1693 21.384 52.6493 20.912 52.2653 20.32C51.8973 19.712 51.7133 19.032 51.7133 18.28ZM59.5373 18.928C59.7133 18.736 59.8573 18.544 59.9693 18.352C60.0813 18.16 60.1373 17.984 60.1373 17.824V16.552C59.7533 16.392 59.3373 16.272 58.8893 16.192C58.4413 16.096 58.0173 16.048 57.6173 16.048C56.7853 16.048 56.0973 16.232 55.5533 16.6C55.0253 16.952 54.7613 17.424 54.7613 18.016C54.7613 18.336 54.8493 18.64 55.0253 18.928C55.2013 19.216 55.4573 19.448 55.7933 19.624C56.1293 19.8 56.5293 19.888 56.9933 19.888C57.4733 19.888 57.9453 19.8 58.4093 19.624C58.8733 19.432 59.2493 19.2 59.5373 18.928ZM67.0797 22V12.544H65.4237V10.096H67.0797V9.328C67.0797 8.288 67.2477 7.392 67.5837 6.64C67.9357 5.872 68.4237 5.28 69.0477 4.864C69.6877 4.448 70.4317 4.24 71.2797 4.24C71.7917 4.24 72.3037 4.304 72.8157 4.432C73.3437 4.56 73.8637 4.744 74.3757 4.984L73.7277 7.408C73.4877 7.28 73.2077 7.176 72.8877 7.096C72.5677 7 72.2637 6.952 71.9757 6.952C71.4317 6.952 71.0157 7.144 70.7277 7.528C70.4397 7.912 70.2957 8.472 70.2957 9.208V10.096H73.3677V12.544H70.2957V22H67.0797ZM86.8825 22H83.6665V14.944C83.6665 13.968 83.4745 13.24 83.0905 12.76C82.7225 12.28 82.2105 12.04 81.5545 12.04C81.1705 12.04 80.7625 12.152 80.3305 12.376C79.8985 12.6 79.5065 12.912 79.1545 13.312C78.8185 13.696 78.5705 14.144 78.4105 14.656V22H75.1945V4.48H78.4105V11.752C78.8745 10.952 79.5065 10.328 80.3065 9.88C81.1065 9.432 81.9785 9.208 82.9225 9.208C83.7385 9.208 84.4025 9.352 84.9145 9.64C85.4265 9.912 85.8265 10.288 86.1145 10.768C86.4025 11.232 86.6025 11.76 86.7145 12.352C86.8265 12.928 86.8825 13.528 86.8825 14.152V22ZM89.6068 22V18.544H92.2468V22H89.6068Z"
                    fill="#0A2646"
                />
            </svg>
        </a>
        <div class="socials">
            <div
                class="fa github"
                on:mouseenter={() => {
                    className = "github-grad"
                    title = "Github"
                    haaal = "0"
                }}
                on:mouseleave={defaultValues}
            >
                <Fa size="2x" icon={faGithubSquare} />
            </div>
            <div
                class="fa twitter"
                on:mouseenter={() => {
                    className = "twitter-grad"
                    title = "Twitter"
                    haaal = "0"
                }}
                on:mouseleave={defaultValues}
            >
                <Fa size="2x" icon={faTwitterSquare} />
            </div>
            <div
                class="fa instagram"
                on:mouseenter={() => {
                    className = "instagram-grad"
                    title = "Instagram"
                    haaal = "0"
                }}
                on:mouseleave={defaultValues}
            >
                <Fa size="2x" icon={faInstagramSquare} />
            </div>
            <div
                class="fa linkedin"
                on:mouseenter={() => {
                    className = "linkedin-grad"
                    title = "Linkedin"
                    haaal = "0"
                }}
                on:mouseleave={defaultValues}
            >
                <Fa size="2x" icon={faLinkedin} />
            </div>
        </div>
    </div>
</header>

<section>
    <div class="hero">
        <p class="hide">
            <span class="reveal" style="opacity: {haaal};">Hello There!</span>
            <span class="fade" style="opacity: {haaal};">I'm</span>
        </p>
        <div class="big-text">
            <svg
                width="139"
                height="139"
                viewBox="0 0 139 139"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="thing2"
            >
                <path
                    d="M9.12146 35.0595L35.0752 9.10576C30.4675 11.7388 26.1889 14.8889 22.3177 18.4623L18.478 22.3021C14.9046 26.1732 11.7545 30.4518 9.12146 35.0595Z"
                    fill="#747C85"
                />
                <path
                    d="M1.37921 55.6846L55.7003 1.36351C54.1958 1.66129 52.7225 2.02176 51.2493 2.41358L2.42925 51.2336C2.03743 52.7068 1.67699 54.1801 1.37921 55.6846Z"
                    fill="#747C85"
                />
                <path
                    d="M0 69.4922C0 69.6332 0 69.7899 0 69.931L69.9467 0C69.8056 0 69.6489 0 69.5078 0C68.4891 0 67.4861 0.0313451 66.4987 0.0626902L0.0783437 66.483C0.031326 67.4861 0 68.4891 0 69.4922Z"
                    fill="#747C85"
                />
                <path
                    d="M1.08147 81.7481L81.7482 1.08141C80.7765 0.909008 79.7891 0.752283 78.8174 0.626902L0.626953 78.8173C0.752334 79.789 0.909073 80.7764 1.08147 81.7481Z"
                    fill="#747C85"
                />
                <path
                    d="M3.71437 91.9823L91.9823 3.7144C91.136 3.41662 90.2739 3.15019 89.412 2.89942L2.89941 89.412C3.16585 90.274 3.43226 91.136 3.71437 91.9823Z"
                    fill="#747C85"
                />
                <path
                    d="M7.55419 101.025L101.041 7.5385C100.289 7.16236 99.5208 6.78622 98.7528 6.42575L6.44141 98.7372C6.80188 99.5051 7.16238 100.273 7.55419 101.025Z"
                    fill="#747C85"
                />
                <path
                    d="M12.3814 109.081L109.097 12.3657C108.423 11.8955 107.749 11.441 107.059 11.0021L11.0179 107.044C11.4567 107.733 11.9112 108.407 12.3814 109.081Z"
                    fill="#747C85"
                />
                <path
                    d="M18.0862 116.259L116.259 18.0861C115.664 17.5533 115.068 17.0204 114.457 16.5032L16.5032 114.457C17.0204 115.052 17.5533 115.664 18.0862 116.259Z"
                    fill="#747C85"
                />
                <path
                    d="M24.6529 122.575L122.591 24.6373C122.074 24.026 121.541 23.4148 121.008 22.8193L22.835 120.992C23.4305 121.525 24.026 122.058 24.6529 122.575Z"
                    fill="#747C85"
                />
                <path
                    d="M32.0504 128.045L128.061 32.0347C127.622 31.3451 127.167 30.6712 126.697 29.9973L30.013 126.697C30.6869 127.152 31.3608 127.606 32.0504 128.045Z"
                    fill="#747C85"
                />
                <path
                    d="M40.3725 132.606L132.606 40.3725C132.245 39.6046 131.885 38.8366 131.493 38.0843L38.0687 131.509C38.8367 131.885 39.6046 132.245 40.3725 132.606Z"
                    fill="#747C85"
                />
                <path
                    d="M49.729 136.132L136.148 49.7134C135.897 48.8514 135.615 47.9894 135.333 47.1431L47.1587 135.317C48.005 135.615 48.867 135.881 49.729 136.132Z"
                    fill="#747C85"
                />
                <path
                    d="M60.355 138.389L138.404 60.3394C138.279 59.352 138.122 58.3646 137.95 57.3929L57.4086 137.934C58.3803 138.107 59.3677 138.263 60.355 138.389Z"
                    fill="#747C85"
                />
                <path
                    d="M69.5078 139C70.5893 139 71.655 138.969 72.705 138.922L138.922 72.705C138.969 71.6393 139 70.5736 139 69.5078C139 69.4138 139 69.3354 139 69.2414L69.2414 139C69.3198 138.984 69.4138 139 69.5078 139Z"
                    fill="#747C85"
                />
                <path
                    d="M88.0015 136.492L136.508 87.9858C136.916 86.5126 137.276 85.0237 137.59 83.5191L83.5348 137.574C85.0394 137.26 86.5283 136.9 88.0015 136.492Z"
                    fill="#747C85"
                />
                <path
                    d="M129.628 104.348L104.348 129.628C114.817 123.547 123.547 114.817 129.628 104.348Z"
                    fill="#747C85"
                />
            </svg>
            <h2 class="hide"><span class="reveal">{title}</span></h2>
            <h2 class="hide">
                <span class="reveal" style="opacity: {haaal};">Aflah.</span>
            </h2>
        </div>
        <p class="fading-text" style="opacity: {haaal};">
            I build stuffs for <span>web</span> and <span>phones.</span>
        </p>
    </div>
</section>
<div class="wrapper">
    <div class="bottom-strip">
        <div class="text">This site is under development</div>
    </div>
</div>
<Things />
